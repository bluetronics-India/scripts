#!/usr/bin/env python3
import os, sys, base64, time, hashlib

try:
  from getpass import getpass
except ImportError:
  print("Please sudo pip3 install getpass")

master_password = getpass()
if len(sys.argv) = 2

if len(sys.argv)>2:
  n = int(sys.argv[2])
else:
  n = 0

thehash = hashlib.pbkdf2_hmac(
    'sha256',
    (master_password + '/' + sys.argv[1]).encode(),
    b'salt',
    100000 + n
)

out_password = base64.b64encode(thehash).decode()[0:16] + '$1Aa'

